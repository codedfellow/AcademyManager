@model IEnumerable<AcademyManager.ViewModels.CourseVM>
@inject UserManager<AMUser> userManager
@{
    ViewData["Title"] = "CourseList";
}

<h1>Course List</h1>

<table id="tblList" class="table">
    <thead>
        <tr>
            <th>
                Course Name
            </th>
            <th>
                Course Facilitator
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
    
    
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.CourseName)
            </td>
            @if (item.FacilitatorId != null)
            {
                var facilitator = userManager.FindByIdAsync(item.FacilitatorId).Result;
                <td>
                    @facilitator.FirstName @facilitator.LastName @facilitator.MiddleName
                </td>
            }
            else
            {
                <td></td>
            }
        <td>
            <a asp-action="GeneralCourseDetails" asp-route-courseId="@item.Id" class="btn m-2 bg-gradient-lightblue text-light">General Course Details</a>
            <a asp-action="PersonalCourseDetails" asp-route-courseId="@item.Id" class="btn m-2 bg-gradient-indigo text-light">Personal Course Details</a>
        </td>
        </tr>
}
    </tbody>
</table>
